## 如何减少 dom 操作

1. 缓存 DOM 对象
- 操作 DOM 一般首先会去访问 DOM，尤其是像循环遍历这种时间复杂度可能会比较高的操作。
- 那么可以在循环之前就将主节点不必循环的 DOM 节点先获取到，那么在循环里就可以直接引用，而不必去重新查询。

2. 文档片段
- 利用document.createDocumentFragment()方法创建文档碎片节点，修改 DOM 节点并不会影响到真实的 DOM 结构。
- 我们可以利用这一点先将我们需要修改的 DOM 一并修改完，保存至文档碎片中，然后用文档碎片一次性的替换真实的 DOM 节点，和虚拟 DOM 类似，同样达到了不频繁修改 dom 而导致的重排和重绘的过程。

3. 虚拟 DOM
- js 模拟 DOM 树并对 DOM 树操作的一种技术。virtual DOM 是一个纯 js 对象(字符串对象)，所以对它操作会很高效。
- 利用 virtual DOM，将 DOM 抽象为虚拟 DOM，在 DOM 发生变化的时候先对虚拟 DOM 进行操作，通过 DOM DIFF 算法将虚拟 DOM 和原虚拟 DOM 的结构做对比，最终批量的去修改真实的 DOM 结构，尽可能的避免了频繁修改 DOM 而导致的频繁的重排和重绘。